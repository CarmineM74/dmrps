<div id='new-client' class='span12'>
  <tabs>
    <pane heading="Anagrafica">
      <form name='clientForm' class='custom-form' show-validation-errors errors='errors'>
        <fieldset>
          <legend>{{formCaption}}</legend>

            <div class='same-row id' ng-show='client.id'>
		          <label>Codice cliente</label>
		          <span class='span1 uneditable-input' type='text'>{{client.id}}</span>
            </div>
	          <div class='same-row control-group ragione_sociale'>
	            <label>Ragione sociale</label>
	            <input id='ragione_sociale' class='span10' type='text' ng-model='client.ragione_sociale' required>
            </div>
	          <div class='same-row control-group indirizzo'>
	            <label>Indirizzo</label>
              <input id='indirizzo' class='span5' type='text' ng-model='client.indirizzo'>
	          </div>
	          <div class='clearfix same-row control-group citta'>
	            <label>Citta'</label>
              <input id='citta' class='span3' type='text' ng-model='client.citta'>
	          </div>
	          <div class='same-row control-group cap'>
	            <label>CAP</label>
              <input id='cap' class='span1' type='text' ng-model='client.cap'>
	          </div>
	          <div class='same-row control-group provincia'>
	            <label>Provincia</label>
              <input id='provincia' class='span1' type='text' ng-model='client.provincia' to-uppercase>
	          </div>
	          <div class='new-row same-row control-group partita_iva'>
	            <label>Partita IVA</label>
              <input id='partita_iva' class='span3' type='text' ng-model='client.partita_iva'>
	          </div>
	          <div class='same-row control-group codice_fiscale'>
	            <label>Codice Fiscale</label>
              <input id='codice_fiscale' class='span3' type='text' ng-model='client.codice_fiscale'>
            </div>
	          <div class='new-row same-row control-group tipo_contratto'>
              <label>Tipo contratto</label>
              <select id='tipo_contratto' ng-model='client.tipo_contratto' ng-options="tipo.value as tipo.name for tipo in tipi_contratto" required></select>
            </div>
	          <div class='same-row same-row control-group nr_contratto'>
              <label>Nr contratto</label>
              <input id="nr_contratto" class='span2' type='text' ng-model='client.nr_contratto'>
            </div>
            <div class='same-row control-group costo'>
              <label>Costo</label>
              <input id="costo" class='span2' type='text' ng-model='client.costo' required>
            </div>
            <div class='new-row same-row control-group inizio'>
              <label>Inizio contratto</label>
              <input id='inizio' type='text' ng-model="client.inizio" ui-date="{dateFormat: 'dd/mm/yy', changeMonth: true, changeYear: true}" ui-date-format required>
            </div>
            <div class='same-row control-group fine'>
              <label>Fine contratto</label>
              <input id='fine' type='text' ng-model="client.fine" ui-date="{dateFormat: 'dd/mm/yy', changeMonth: true, changeYear: true}" ui-date-format required>
            </div>
            <div class='new-row same-row control-group diritto_di_chiamata'>
              <label>Diritto di chiamata</label>
              <input id='diritto_di_chiamata' type="CHECKBOX" ng-model="client.diritto_di_chiamata">
            </div>
            <div class='same-row control-group costo_diritto_chiamata' ng-show='client.diritto_di_chiamata'>
              <label>Costo diritto di chiamata</label>
              <input id="costo_diritto_chiamata" class='span2' type='text' ng-model='client.costo_diritto_chiamata'>
            </div>
            <div class='form-actions new-row'>
              <button type='submit' class='btn' ng-click='saveClient(client)' ng-disabled='!isDirty() || !clientForm.$valid'>{{formSubmitCaption}}</button>
              <button type='submit' class='btn' ng-click="quitEditing()">Annulla</button>
            </div>
        </fieldset>
      </form>
    </pane>
    <pane heading="Contatti">
      <elenco-contatti contatti='contacts' save-contact='saveContact(contact)' delete-contact='deleteContact(contact)'></elenco-contatti>
    </pane>
    <pane heading="Sedi">
      <elenco-sedi sedi='locations' nuova-sede-click='newLocation(client)' modifica-sede-click='editLocation(location)' elimina-sede-click='deleteLocation(location)'></elenco-sedi>
    </pane>
  </tabs>
</div>

