</br>
<div class='row'>
  <div class='span12' ng-hide='showForm'>
    <form class='form-search'>
      <input class='btn' type='button' value='Aggiorna elenco' ng-click='fetchAll()' />
      <input class='btn' type='button' value='Nuovo utente' ng-click='newUser()' />
    </form>
    <table class='table table-striped table-bordered table-hover'>
      <thead>
        <tr>
	        <th>E-Mail</th>
        </tr>
      </thead>
      <tbody>
	      <tr ng-repeat='user in users' ng-click='selectUser(user)'>
	        <td>{{user.email}}</td>
	      </tr>
      </tbody>
    </table>
  </div>
  <div id='new-user' class='span12'>
    <form name='userForm' class='customForm' ng-show='showForm' show-validation-errors errors='errors'>
      <fieldset>
        <legend>{{formCaption}}</legend>
        <div class='alert alert-info' ng-show='selectedUser.id'>
          La modifica dei dati utente avverra' previo inserimento della password e relativa conferma
        </div>
        <div class='control-group email'>
          <label >E-Mail</label>
          <input id='email' class='span5' type='text' ng-model='selectedUser.email' required>
	      </div>
        <div class='control-group password'>
          <label >Password</label>
          <input id='password' class='span5' type='password' ng-model='selectedUser.password' required>
	      </div>
        <div class='control-group password_confirmation'>
          <label>Conferma password</label>
          <input id='password_confirm' class='span5' type='password' ng-model='selectedUser.password_confirmation' required>
	      </div>
        <div class='form-actions'>
          <button type='submit' class='btn' ng-click='saveUser(selectedUser)' ng-disabled='!isDirty()'>{{formSubmitCaption}}</button>
          <button type='submit' class='btn' ng-click="deleteUser(selectedUser)" ng-show='selectedUser.id'>Elimina</button>
          <button type='submit' class='btn' ng-click="hideForm()">Annulla</button>
        </div>
      </fieldset>
    </form>
  </div>
</div>

